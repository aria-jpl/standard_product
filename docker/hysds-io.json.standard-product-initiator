{     
  "submission_type": "iteration",
  "label": "S1 - POEORB Standard Product Enumerator",
  "allowed_accounts": [ "ops" ],
  "enable_dedup": false,
  "params" : [ 
    {
      "name": "workflow",
      "from": "value",
      "value": "orbit_acquisition_enumerator_standard_product.sf.xml"
    },
    {
      "name": "project",
      "from": "submitter",
      "type": "enum",
      "default": "grfn",
      "enumerables": ["aria", "grfn", "mem", "urgent-response", "dwr"]
    },
    { 
      "name": "dataset_version",
      "from": "value",
      "value": "v2.0.0"
    },
    {
      "name": "spyddder_extract_version",
      "from": "submitter",
      "type": "jobspec_version",
      "version_regex": "job-spyddder-extract",
      "placeholder": "spyddder-man extract job version"
    },
    {
      "name": "acquisition_localizer_version",
      "from": "submitter",
      "type": "jobspec_version",
      "version_regex": "job-acquisition_localizer",
      "placeholder": "spyddder-man acquisition localizer job version"
    },
    {
      "name": "standard_product_localizer_version",
      "from": "submitter",
      "type": "jobspec_version",
      "version_regex": "job-standard_product_localizer",
      "placeholder": "standard product localizer job version"
    },
    {
      "name": "standard_product_ifg_version",
      "from": "submitter",
      "type": "jobspec_version",
      "version_regex": "job-sciflo-standard-product-ifg",
      "placeholder": "standard product interferogram job version"
    },
    {
      "name": "starttime",
      "from": "dataset_jpath:_source.starttime",
      "type": "text"
    },
    {
      "name": "endtime",
      "from": "dataset_jpath:_source.endtime",
      "type": "text"
    },
    {
      "name": "platform",
      "from": "dataset_jpath:_source.metadata.platform",
      "type": "text"
    },
    {
      "name":"localize_products",
      "from": "dataset_jpath:_source",
      "lambda": "lambda ds: filter(lambda x: x.startswith('s3://'), ds['urls'])[0]"
    }
  ]
}
